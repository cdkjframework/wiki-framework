server:
  port: 2020
#spring cloud
eureka:
  client:
    serviceUrl:
      defaultZone: http://172.24.52.83:10900/eureka/
  instance:
    ip-address: 172.24.52.82
    prefer-ip-address: true
    preferIpAddress: true
    instance-id: ${spring.cloud.client.ipAddress}:${server.port}
# hystrix �ź������룬1.5����Զ���ʱ
hystrix:
  command:
    default:
      execution:
        timeout:
          enabled: false
        isolation:
          thread:
            timeoutInMilliseconds: 30000
management:
  endpoints:
    web:
      exposure:
        include: "*"

spring:
  application:
    name: com.lesmarthome.gateway
  swagger:
    basePackage: "[{\"beanName\":\"gateway-api\",\"groupName\":\"gateway-api-V-1.0\",\"basePackage\":\"com.cdkjframework.gateway.controller\"}]"
    headers: " [{\"headerName\":\"token\",\"description\":\"token\",\"headerType\":\"string\"}]"
  cdkj:
    redis:
      port: 6377
      database: 1
      host[0]: 172.24.52.83
      password: lesmarthome.com
  cloud:
    client:
      ipAddress: 192.168.1.22
    gateway:
      discovery:
        locator:
          enabled: true # gateway����ͨ�����������������򿪸��ݷ����serviceId��ƥ��·��,Ĭ���Ǵ�д
      routes:
        - id: bms
          uri: lb://com.lesmarthome.bms
          predicates:
            - Path=/bms/**
            - Path=/rms/**
            - Path=/security/**
          # �۶�����
          filters:
            - name: Hystrix
              args:
                name: default
                fallbackUri: forward:/gateway/fallback # ֻ�и�id�µķ���ή��
        - id: pms
          uri: lb://com.lesmarthome.pms
          predicates:
            - Path=/pms/**
          filters:
            - name: Hystrix
              args:
                name: default
                fallbackUri: forward:/gateway/fallback # ֻ�и�id�µķ���ή��
        - id: wms
          uri: lb://com.lesmarthome.wms
          predicates:
            - Path=/wms/**
          filters:
            - name: Hystrix
              args:
                name: default
                fallbackUri: forward:/gateway/fallback # ֻ�и�id�µķ���ή��
  profiles:
    active: dev
